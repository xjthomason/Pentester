# TODO use nmap to scan for open ports
# TODO use nmap to scan for running services
# TODO write method to output results

import nmap

#global variables 
# open_ports = []

class Scanner():
	
	# def __init__(self, tgtHost, tgtPorts, commands):
		# # Host
		# self.tgtHost = tgtHost
		# # Port(s)
		# ports = []
		# self.tgtPorts = ports
		# # Commands
		# self.commands = command

	def nmapScan(self, tgtHost, tgtPort, commands):

		nmScan = nmap.PortScanner()
		if commands == "1":
			nmScan.scan(tgtHost, str(tgtPort),arguments='-sV -O -sS -T4')
			return
		if commands == "2":
			nmScan(tgtHost,arguments='-v -p 1-65535')
			return
		if commands == "3":
			state = nmScan[tgtHost]['tcp'][int(tgtPort)]['state']
			if state == 'open':
				print "Port %s is open." % tgtPort
			else:
				pass
			return
			
